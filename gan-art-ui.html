<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAN Art UI | هنر تولیدشده با هوش مصنوعی</title>
    <style>
        :root {
            --gan-primary: #0a0a0a;
            --gan-secondary: #1a1a1a;
            --gan-accent: #ff00ff;
            --gan-accent2: #00ffff;
            --gan-accent3: #ffff00;
            --gan-text: #ffffff;
            --gan-text-secondary: #aaaaaa;
            --gan-card-bg: rgba(26, 26, 26, 0.8);
            --gan-border: rgba(255, 0, 255, 0.3);
            --gan-glow: rgba(255, 0, 255, 0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--gan-primary);
            color: var(--gan-text);
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 0, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, rgba(0, 255, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 40% 80%, rgba(255, 255, 0, 0.1) 0%, transparent 15%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* هدر با افکت GAN */
        .gan-header {
            background: linear-gradient(180deg, 
                rgba(10, 10, 10, 0.95) 0%, 
                rgba(10, 10, 10, 0.7) 50%,
                transparent 100%);
            padding: 2rem 0;
            position: relative;
            z-index: 10;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--gan-border);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--gan-accent), var(--gan-accent2));
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .logo-icon::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 50%, transparent 60%);
            animation: shine 3s infinite linear;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .logo h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--gan-accent), var(--gan-accent2), var(--gan-accent3));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            letter-spacing: 1px;
        }
        
        .logo-subtitle {
            font-size: 1rem;
            color: var(--gan-text-secondary);
            margin-top: 5px;
        }
        
        /* هیرو سکشن با افکت GAN */
        .gan-hero {
            padding: 5rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }
        
        .hero-text h2 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--gan-accent2), var(--gan-accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }
        
        .hero-text p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--gan-text-secondary);
            line-height: 1.8;
        }
        
        .gan-badge {
            display: inline-block;
            background: linear-gradient(90deg, var(--gan-primary), var(--gan-secondary));
            color: var(--gan-text);
            padding: 10px 25px;
            border-radius: 30px;
            font-weight: bold;
            margin-top: 1rem;
            border: 1px solid var(--gan-border);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .gan-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, var(--gan-accent), var(--gan-accent2));
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s ease;
        }
        
        .gan-badge:hover::before {
            opacity: 0.2;
        }
        
        /* گالری تصاویر GAN */
        .gan-gallery {
            padding: 4rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title h3 {
            font-size: 2.5rem;
            display: inline-block;
            position: relative;
            padding-bottom: 15px;
        }
        
        .section-title h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--gan-accent), var(--gan-accent2));
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .gan-art-card {
            background: var(--gan-card-bg);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--gan-border);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            backdrop-filter: blur(5px);
        }
        
        .gan-art-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--gan-accent);
            box-shadow: 0 15px 30px rgba(255, 0, 255, 0.2);
        }
        
        .art-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #222, #333);
            position: relative;
            overflow: hidden;
        }
        
        .art-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.8;
        }
        
        .art-info {
            padding: 1.5rem;
        }
        
        .art-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--gan-accent2);
        }
        
        .art-description {
            color: var(--gan-text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .art-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--gan-text-secondary);
        }
        
        /* کنترل‌های GAN */
        .gan-controls {
            background: var(--gan-card-bg);
            border-radius: 15px;
            padding: 2.5rem;
            margin-bottom: 4rem;
            border: 1px solid var(--gan-border);
            backdrop-filter: blur(10px);
        }
        
        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .control-group {
            margin-bottom: 1.5rem;
        }
        
        .control-label {
            display: block;
            margin-bottom: 0.8rem;
            color: var(--gan-accent);
            font-weight: bold;
        }
        
        .slider-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 1rem;
            border: 1px solid rgba(255, 0, 255, 0.2);
        }
        
        .gan-slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: linear-gradient(90deg, var(--gan-primary), var(--gan-accent));
            border-radius: 3px;
            outline: none;
        }
        
        .gan-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--gan-accent2);
            cursor: pointer;
            border: 2px solid var(--gan-primary);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        .style-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 1rem;
        }
        
        .style-btn {
            padding: 8px 15px;
            background: rgba(255, 0, 255, 0.1);
            border: 1px solid var(--gan-border);
            color: var(--gan-text);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .style-btn:hover {
            background: rgba(255, 0, 255, 0.3);
            transform: scale(1.05);
        }
        
        .style-btn.active {
            background: linear-gradient(90deg, var(--gan-accent), var(--gan-accent2));
            color: var(--gan-primary);
            font-weight: bold;
        }
        
        /* ویژوالایزر */
        .gan-visualizer {
            width: 100%;
            height: 200px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            margin: 2rem 0;
            border: 1px solid var(--gan-border);
            position: relative;
            overflow: hidden;
        }
        
        .visualizer-canvas {
            width: 100%;
            height: 100%;
        }
        
        /* فوتر */
        .gan-footer {
            background: linear-gradient(0deg, 
                rgba(10, 10, 10, 0.95) 0%, 
                transparent 100%);
            padding: 3rem 0;
            margin-top: 4rem;
            border-top: 1px solid var(--gan-border);
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 2rem;
        }
        
        .footer-logo h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--gan-accent), var(--gan-accent2));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .gan-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 1rem;
        }
        
        .feature-tag {
            padding: 5px 10px;
            background: rgba(255, 0, 255, 0.1);
            border-radius: 15px;
            font-size: 0.8rem;
            color: var(--gan-text-secondary);
            border: 1px solid rgba(255, 0, 255, 0.2);
        }
        
        .copyright {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 0, 255, 0.1);
            color: var(--gan-text-secondary);
            font-size: 0.9rem;
        }
        
        /* ریسپانسیو */
        @media (max-width: 992px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            
            .hero-text h2 {
                font-size: 2.2rem;
            }
            
            .section-title h3 {
                font-size: 2rem;
            }
        }
        
        /* افکت‌های ویژه GAN */
        .gan-glow {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--gan-accent) 0%, transparent 70%);
            filter: blur(60px);
            opacity: 0.1;
            z-index: -1;
            animation: float 20s infinite ease-in-out;
        }
        
        .glow-1 {
            top: 10%;
            left: 10%;
            background: radial-gradient(circle, var(--gan-accent) 0%, transparent 70%);
        }
        
        .glow-2 {
            top: 60%;
            right: 10%;
            background: radial-gradient(circle, var(--gan-accent2) 0%, transparent 70%);
            animation-delay: -5s;
        }
        
        .glow-3 {
            bottom: 10%;
            left: 50%;
            background: radial-gradient(circle, var(--gan-accent3) 0%, transparent 70%);
            animation-delay: -10s;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(50px, -50px) scale(1.1); }
            50% { transform: translate(-30px, 30px) scale(0.9); }
            75% { transform: translate(-50px, -30px) scale(1.05); }
        }
        
        /* انیمیشن‌های پیکسل‌گونه */
        @keyframes pixelate {
            0% { filter: blur(5px) contrast(200%); }
            50% { filter: blur(2px) contrast(150%); }
            100% { filter: blur(5px) contrast(200%); }
        }
        
        .pixel-animation {
            animation: pixelate 3s infinite alternate;
        }
    </style>
</head>
<body>
    <!-- افکت‌های نور پس‌زمینه -->
    <div class="gan-glow glow-1"></div>
    <div class="gan-glow glow-2"></div>
    <div class="gan-glow glow-3"></div>
    
    <!-- هدر -->
    <header class="gan-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon"></div>
                    <div>
                        <h1>GAN Art UI</h1>
                        <div class="logo-subtitle">المان‌های گرافیکی تولیدشده با شبکه‌های مولد تخاصمی</div>
                    </div>
                </div>
                
                <div>
                    <div class="gan-badge">سبک‌های نامحدود</div>
                    <div class="gan-badge" style="margin-left: 10px;">ثبات بصری</div>
                </div>
            </div>
        </div>
    </header>

    <!-- بخش اصلی -->
    <main class="container">
        <!-- هیرو -->
        <section class="gan-hero">
            <div class="hero-content">
                <div class="hero-text">
                    <h2>هنر تولیدشده با GAN</h2>
                    <p>المان‌های گرافیکی پیشرفته تولیدشده با شبکه‌های مولد تخاصمی برای هِرو و تصاویر محصول. ترکیبی از خلاقیت نامحدود و کنترل دقیق بصری.</p>
                    <p>ویژگی‌ها: تصاویر مصنوعی با تنوع بالا، استایل‌راندم، کنترل ثبات بصری، تولید براساس پارامترهای قابل تنظیم.</p>
                    
                    <div class="gan-features">
                        <span class="feature-tag">تصاویر مصنوعی</span>
                        <span class="feature-tag">تنوع بالا</span>
                        <span class="feature-tag">استایل‌راندم</span>
                        <span class="feature-tag">کنترل ثبات</span>
                        <span class="feature-tag">پارامتریک</span>
                    </div>
                    
                    <div class="gan-badge pixel-animation">GAN فعال</div>
                </div>
                
                <div class="hero-image">
                    <div class="gan-art-card" style="height: 400px;">
                        <div class="art-image">
                            <!-- پترن GAN تولید شده با JavaScript -->
                            <canvas id="ganPreview" class="art-pattern"></canvas>
                        </div>
                        <div class="art-info">
                            <div class="art-title">پیش‌نمایش زنده GAN</div>
                            <div class="art-description">تصویر تولیدشده براساس پارامترهای فعلی. تغییر پارامترها را در بخش کنترل مشاهده کنید.</div>
                            <div class="art-stats">
                                <span>تنوع: ۸۵٪</span>
                                <span>ثبات: ۹۲٪</span>
                                <span>سبک: انتزاعی</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- گالری تصاویر GAN -->
        <section class="gan-gallery">
            <div class="section-title">
                <h3>گالری آثار GAN</h3>
                <p style="color: var(--gan-text-secondary); margin-top: 1rem;">مجموعه‌ای از المان‌های گرافیکی تولیدشده با هوش مصنوعی</p>
            </div>
            
            <div class="gallery-grid" id="galleryGrid">
                <!-- کارت‌های گالری توسط JavaScript تولید می‌شوند -->
            </div>
        </section>

        <!-- کنترل‌های GAN -->
        <section class="gan-controls">
            <div class="section-title" style="text-align: right;">
                <h3>کنترل پارامترهای GAN</h3>
                <p style="color: var(--gan-text-secondary); margin-top: 1rem;">تنظیمات پیشرفته برای کنترل فرآیند تولید</p>
            </div>
            
            <div class="controls-grid">
                <div class="control-group">
                    <label class="control-label">تنوع تصاویر</label>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="75" class="gan-slider" id="diversitySlider">
                        <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.8rem;">
                            <span>کم</span>
                            <span id="diversityValue">۷۵٪</span>
                            <span>زیاد</span>
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">ثبات بصری</label>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="80" class="gan-slider" id="consistencySlider">
                        <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.8rem;">
                            <span>انعطاف‌پذیر</span>
                            <span id="consistencyValue">۸۰٪</span>
                            <span>ثابت</span>
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">پیچیدگی الگو</label>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="60" class="gan-slider" id="complexitySlider">
                        <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.8rem;">
                            <span>ساده</span>
                            <span id="complexityValue">۶۰٪</span>
                            <span>پیچیده</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="control-group" style="margin-top: 2rem;">
                <label class="control-label">انتخاب سبک</label>
                <div class="style-buttons" id="styleButtons">
                    <!-- دکمه‌های سبک توسط JavaScript تولید می‌شوند -->
                </div>
            </div>
            
            <!-- ویژوالایزر -->
            <div class="gan-visualizer">
                <canvas id="ganVisualizer" class="visualizer-canvas"></canvas>
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="gan-badge" id="generateBtn" style="padding: 15px 40px; font-size: 1.1rem;">
                    تولید تصویر جدید
                </button>
            </div>
        </section>
    </main>

    <!-- فوتر -->
    <footer class="gan-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>GAN Art UI</h2>
                    <p>سیستم تولید المان‌های گرافیکی با هوش مصنوعی</p>
                    
                    <div class="gan-features" style="margin-top: 1.5rem;">
                        <span class="feature-tag">شبکه‌های مولد تخاصمی</span>
                        <span class="feature-tag">هوش مصنوعی</span>
                        <span class="feature-tag">گرافیک کامپیوتری</span>
                        <span class="feature-tag">طراحی پارامتریک</span>
                    </div>
                </div>
                
                <div>
                    <h3 style="color: var(--gan-accent2); margin-bottom: 1rem;">ویژگی‌های اصلی</h3>
                    <ul style="color: var(--gan-text-secondary); line-height: 2;">
                        <li>تصاویر مصنوعی با تنوع بالا</li>
                        <li>استایل‌راندم (تصادفی‌سازی سبک)</li>
                        <li>کنترل ثبات بصری</li>
                        <li>رزولوشن بالا</li>
                        <li>پارامترهای قابل تنظیم</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>© ۲۰۲۳ GAN Art UI. تمامی حقوق محفوظ است.</p>
                <p>المان‌های گرافیکی تولیدشده با شبکه‌های مولد تخاصمی</p>
            </div>
        </div>
    </footer>

    <script>
        // داده‌های گالری
        const ganArtworks = [
            {
                title: "انتزاع سیال",
                description: "الگوریتم GAN با الهام از جریان‌های سیال، الگوهای ارگانیک تولید کرده است.",
                diversity: 90,
                consistency: 75,
                style: "انتزاعی",
                color: "#ff00ff"
            },
            {
                title: "ساختمان‌های رویایی",
                description: "معماری تخیلی تولیدشده با ترکیب سبک‌های مختلف معماری.",
                diversity: 70,
                consistency: 85,
                style: "معماری",
                color: "#00ffff"
            },
            {
                title: "پرتره سایبری",
                description: "چهره‌های انسانی با المان‌های دیجیتال و مصنوعی ترکیب شده‌اند.",
                diversity: 80,
                consistency: 90,
                style: "پرتره",
                color: "#ffff00"
            },
            {
                title: "طبیعت فراحقیقت",
                description: "مناظر طبیعی با عناصر غیرممکن و سوررئال.",
                diversity: 85,
                consistency: 80,
                style: "طبیعت",
                color: "#00ff00"
            },
            {
                title: "الگوهای فراکتال",
                description: "تولید الگوهای پیچیده براساس ریاضیات فراکتال.",
                diversity: 95,
                consistency: 70,
                style: "فراکتال",
                color: "#ff7700"
            },
            {
                title: "شهر نئون",
                description: "شهرهای آینده‌نگر با نورپردازی نئونی و معماری پیشرفته.",
                diversity: 75,
                consistency: 88,
                style: "شهری",
                color: "#aa00ff"
            }
        ];
        
        // سبک‌های مختلف
        const ganStyles = [
            "انتزاعی", "واقع‌گرا", "سوررئال", "مینیمال", "فراکتال", 
            "امپرسیونیست", "کوبیسم", "فوتورئالیسم", "پیکسلی", "آرکیتکچرال"
        ];
        
        // عناصر DOM
        const galleryGrid = document.getElementById('galleryGrid');
        const styleButtons = document.getElementById('styleButtons');
        const generateBtn = document.getElementById('generateBtn');
        const ganPreview = document.getElementById('ganPreview');
        const ganVisualizer = document.getElementById('ganVisualizer');
        
        // مقادیر اسلایدرها
        const diversitySlider = document.getElementById('diversitySlider');
        const consistencySlider = document.getElementById('consistencySlider');
        const complexitySlider = document.getElementById('complexitySlider');
        const diversityValue = document.getElementById('diversityValue');
        const consistencyValue = document.getElementById('consistencyValue');
        const complexityValue = document.getElementById('complexityValue');
        
        // متغیرهای وضعیت
        let currentStyle = "انتزاعی";
        let currentParams = {
            diversity: 75,
            consistency: 80,
            complexity: 60
        };
        
        // تابع برای تولید رنگ تصادفی با تم GAN
        function getRandomGANColor() {
            const colors = [
                '#ff00ff', '#00ffff', '#ffff00', '#00ff00', 
                '#ff7700', '#aa00ff', '#ff0088', '#0088ff'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // تابع برای تولید پترن GAN روی canvas
        function generateGANPattern(canvas, params) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.clientWidth;
            const height = canvas.height = canvas.clientHeight;
            
            // پاک کردن canvas
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            // تولید الگوهای GAN-like
            const cellSize = 20 + (100 - params.complexity) / 2;
            const variation = params.diversity / 10;
            
            for (let x = 0; x < width; x += cellSize) {
                for (let y = 0; y < height; y += cellSize) {
                    // رنگ تصادفی با تأثیر از پارامترها
                    const hue = (x + y * 10 + params.diversity * 3) % 360;
                    const saturation = 70 + params.consistency / 5;
                    const lightness = 40 + params.complexity / 5;
                    
                    ctx.fillStyle = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
                    
                    // شکل‌های مختلف براساس پارامترها
                    const shapeType = Math.floor((x + y + params.diversity) / cellSize) % 4;
                    const size = cellSize * (0.5 + Math.random() * variation / 100);
                    
                    ctx.save();
                    ctx.translate(x + cellSize/2, y + cellSize/2);
                    
                    if (shapeType === 0) {
                        // دایره
                        ctx.beginPath();
                        ctx.arc(0, 0, size/2, 0, Math.PI * 2);
                        ctx.fill();
                    } else if (shapeType === 1) {
                        // مربع
                        ctx.fillRect(-size/2, -size/2, size, size);
                    } else if (shapeType === 2) {
                        // مثلث
                        ctx.beginPath();
                        ctx.moveTo(0, -size/2);
                        ctx.lineTo(size/2, size/2);
                        ctx.lineTo(-size/2, size/2);
                        ctx.closePath();
                        ctx.fill();
                    } else {
                        // شکل ارگانیک
                        ctx.beginPath();
                        for (let i = 0; i < 8; i++) {
                            const angle = (i / 8) * Math.PI * 2;
                            const radius = size/2 * (0.7 + Math.random() * 0.3);
                            const px = Math.cos(angle) * radius;
                            const py = Math.sin(angle) * radius;
                            
                            if (i === 0) ctx.moveTo(px, py);
                            else ctx.lineTo(px, py);
                        }
                        ctx.closePath();
                        ctx.fill();
                    }
                    
                    ctx.restore();
                }
            }
            
            // اضافه کردن افکت نویز
            const imageData = ctx.getImageData(0, 0, width, height);
            const data = imageData.data;
            const noiseAmount = (100 - params.consistency) / 500;
            
            for (let i = 0; i < data.length; i += 4) {
                const noise = (Math.random() - 0.5) * noiseAmount * 255;
                data[i] = Math.min(255, Math.max(0, data[i] + noise));
                data[i+1] = Math.min(255, Math.max(0, data[i+1] + noise));
                data[i+2] = Math.min(255, Math.max(0, data[i+2] + noise));
            }
            
            ctx.putImageData(imageData, 0, 0);
        }
        
        // تابع برای تولید ویژوالایزر
        function generateVisualizer(canvas, params) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.clientWidth;
            const height = canvas.height = canvas.clientHeight;
            
            // پاک کردن canvas
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, width, height);
            
            // داده‌های مصنوعی برای ویژوالایزر
            const dataPoints = 100;
            const points = [];
            
            for (let i = 0; i < dataPoints; i++) {
                const x = (i / dataPoints) * width;
                const baseY = height / 2;
                
                // ایجاد نویز براساس پارامترها
                const noiseScale = params.diversity / 50;
                const smoothness = params.consistency / 100;
                
                let y = baseY;
                y += Math.sin(i * 0.1) * 50 * noiseScale;
                y += Math.sin(i * 0.05 + params.complexity / 10) * 30;
                y += (Math.random() - 0.5) * 40 * (1 - smoothness);
                
                points.push({x, y});
            }
            
            // رسم خط
            ctx.strokeStyle = getRandomGANColor();
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            
            for (let i = 1; i < points.length; i++) {
                ctx.lineTo(points[i].x, points[i].y);
            }
            
            ctx.stroke();
            
            // اضافه کردن نقاط
            ctx.fillStyle = '#ffffff';
            for (let i = 0; i < points.length; i += 5) {
                ctx.beginPath();
                ctx.arc(points[i].x, points[i].y, 3, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // اضافه کردن افکت نور
            const gradient = ctx.createLinearGradient(0, 0, width, 0);
            gradient.addColorStop(0, 'rgba(255, 0, 255, 0.1)');
            gradient.addColorStop(0.5, 'rgba(0, 255, 255, 0.1)');
            gradient.addColorStop(1, 'rgba(255, 255, 0, 0.1)');
            
            ctx.fillStyle = gradient;
            ctx.globalCompositeOperation = 'screen';
            ctx.fillRect(0, 0, width, height);
            ctx.globalCompositeOperation = 'source-over';
        }
        
        // تابع برای تولید کارت گالری
        function generateGalleryCard(artwork, index) {
            const card = document.createElement('div');
            card.className = 'gan-art-card';
            
            // ایجاد canvas برای تصویر
            const canvasId = `artCanvas${index}`;
            card.innerHTML = `
                <div class="art-image">
                    <canvas id="${canvasId}" class="art-pattern"></canvas>
                </div>
                <div class="art-info">
                    <div class="art-title">${artwork.title}</div>
                    <div class="art-description">${artwork.description}</div>
                    <div class="art-stats">
                        <span>تنوع: ${artwork.diversity}٪</span>
                        <span>ثبات: ${artwork.consistency}٪</span>
                        <span>سبک: ${artwork.style}</span>
                    </div>
                </div>
            `;
            
            // تولید تصویر روی canvas
            setTimeout(() => {
                const canvas = document.getElementById(canvasId);
                if (canvas) {
                    const params = {
                        diversity: artwork.diversity,
                        consistency: artwork.consistency,
                        complexity: 50 + artwork.diversity / 2
                    };
                    generateGANPattern(canvas, params);
                }
            }, 100);
            
            return card;
        }
        
        // تابع برای به‌روزرسانی پارامترها
        function updateParams() {
            currentParams = {
                diversity: parseInt(diversitySlider.value),
                consistency: parseInt(consistencySlider.value),
                complexity: parseInt(complexitySlider.value)
            };
            
            diversityValue.textContent = `${currentParams.diversity}٪`;
            consistencyValue.textContent = `${currentParams.consistency}٪`;
            complexityValue.textContent = `${currentParams.complexity}٪`;
            
            // به‌روزرسانی پیش‌نمایش
            generateGANPattern(ganPreview, currentParams);
            generateVisualizer(ganVisualizer, currentParams);
        }
        
        // تابع برای تولید دکمه‌های سبک
        function generateStyleButtons() {
            styleButtons.innerHTML = '';
            
            ganStyles.forEach(style => {
                const button = document.createElement('button');
                button.className = `style-btn ${style === currentStyle ? 'active' : ''}`;
                button.textContent = style;
                button.addEventListener('click', () => {
                    // حذف active از همه دکمه‌ها
                    document.querySelectorAll('.style-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // اضافه کردن active به دکمه انتخاب شده
                    button.classList.add('active');
                    currentStyle = style;
                    
                    // به‌روزرسانی پیش‌نمایش
                    updateParams();
                });
                
                styleButtons.appendChild(button);
            });
        }
        
        // تابع برای تولید تصویر جدید
        function generateNewArtwork() {
            // ایجاد کارت جدید
            const newArtwork = {
                title: `اثر ${currentStyle} #${Math.floor(Math.random() * 1000)}`,
                description: `تولیدشده با سبک ${currentStyle} و پارامترهای تنوع ${currentParams.diversity}٪، ثبات ${currentParams.consistency}٪`,
                diversity: currentParams.diversity,
                consistency: currentParams.consistency,
                style: currentStyle,
                color: getRandomGANColor()
            };
            
            const newCard = generateGalleryCard(newArtwork, Date.now());
            
            // اضافه کردن به ابتدای گالری
            galleryGrid.insertBefore(newCard, galleryGrid.firstChild);
            
            // حذف کارت آخر اگر بیش از ۶ کارت داریم
            if (galleryGrid.children.length > 6) {
                galleryGrid.removeChild(galleryGrid.lastChild);
            }
            
            // افکت بصری
            newCard.classList.add('pixel-animation');
            setTimeout(() => {
                newCard.classList.remove('pixel-animation');
            }, 1000);
        }
        
        // رویدادهای اسلایدرها
        diversitySlider.addEventListener('input', updateParams);
        consistencySlider.addEventListener('input', updateParams);
        complexitySlider.addEventListener('input', updateParams);
        
        // رویداد دکمه تولید
        generateBtn.addEventListener('click', generateNewArtwork);
        
        // مقداردهی اولیه
        function init() {
            // تولید کارت‌های گالری
            ganArtworks.forEach((artwork, index) => {
                const card = generateGalleryCard(artwork, index);
                galleryGrid.appendChild(card);
            });
            
            // تولید دکمه‌های سبک
            generateStyleButtons();
            
            // تنظیم canvas‌ها
            updateParams();
            
            // تنظیم اندازه canvas‌ها هنگام تغییر سایز پنجره
            window.addEventListener('resize', () => {
                updateParams();
            });
        }
        
        // راه‌اندازی وقتی صفحه لود شد
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>